# PMRMS 个人病历信息系统

## 项目背景

* 如今的病历主要有纸质病历本和电子病历两种形式。其中患者持有的是自己的纸质病历本，而医院的数据库里存有来看病的所有患者的电子病历。对于患者而言，纸质病历本携带麻烦，容易丢失，而且纸质病历本上能够记录的病历数量有限，也难以将病历记录和检验检查报告相对应；对于医生而言，尽管医院数据库存有大量的病历，但是当医生问诊特定的患者的时候，却难以从医院数据库中查询该患者的既往病史，只能通过询问患者的方式，又由于患者对医学的认识有限，这种方式往往不够高效，得到的结果也往往不够准确。
* 个人病历信息系统能够解决上述问题。个人病历信息系统能够将单个患者的病历数据联系起来存储和管理，为医生和患者服务。医生问诊患者时可以获取该患者的病历信息，使诊断过程更加准确高效；患者可以随时查看自己的病历信息和医嘱，获取自己的健康档案。

---

## 需求分析

* 该数据库系统存有个人基本信息和从出生到现在的所有病历信息，包括就诊记录、定期体检记录、既往病史和家族病史信息。该系统只能由患者和就诊医生访问。患者访问能查看个人基本信息和病历信息，录入个人基本信息；医生访问能查看个人信息和患者的基本信息和病历信息，录入个人基本信息和患者的病历信息。该系统可以应用于问诊和诊断过程，医生能直接查看病人过去的所有病历信息而不必向病人询问，更加准确和高效；在病人出院后，可以随时查看医嘱，保证预后效果；在个人到老年阶段时，可以根据系统存有的既往病史和定期体检记录预防相应的慢性疾病。

---

## 实现功能

### 病历管理功能

* 医生负责管理患者的电子病历信息。可以查询患者的病历信息、修改病历信息、新增病历信息和删除病历信息。病人可以查询自己的病历信息。病历信息包括就诊记录、既往病史和体检报告。

* 医生管理患者病历信息：医生在病人的信息界面输入病人的id号找到相应患者并选择该患者，选择操作对象是就诊记录还是既往病史还是体检报告，再选择操作方式是新建病历、查看病历、修改病历、删除病历。新建病历则在相应病历的界面中填表插入数据；查看、修改、删除病历则根据检索字段定位目标病历，就诊记录的检索字段是就诊日期，既往病史的检索字段是患者编号；体检报告的检索字段是体检日期。查看病历则显示表内信息，修改病历则显示表内信息并且可修改，删除病历则删除对应的数据项，删除前会提示是否确认删除。

* 病人查询自己病历信息：选择查询就诊记录还是既往病史还是体检报告，根据检索字段定位目标病历。就诊记录的检索字段是就诊日期，既往病史的检索字段是患者编号，体检报告的检索字段是体检日期。

### 患者管理功能
* 患者负责管理自己的个人基本信息。可以查询个人基本信息、修改个人基本信息、新增个人基本信息、删除个人基本信息。医生可以查询患者的个人基本信息。基本信息包括姓名、性别、身份证号、年龄、出生地、住址、职业、婚育史和药物过敏史。

### 医生管理功能
* 医生负责管理自己的个人基本信息。可以查询个人基本信息、修改个人基本信息、新增个人基本信息、删除个人基本信息。基本信息包括姓名、性别、科室、所属医院和职称。

### 系统管理功能
* 实现用户的添加、删除、查询和修改功能。用户可以注册账号、密码，注册成功后，系统管理员对注册信息进行审核，审核通过后用户即可正常登录并录入个人基本信息。不允许非法用户访问系统，并在页面上提示错误信息。

---

## 数据模型

### **数据库表格**

1. 患者信息表

> |字段名|数据类型|能否为空|描述|
> |:---:|:---:|:---:|:---:|
> |pid|INT|否|患者编号|
> |pname|VARCHAR(10)|否|姓名|
> |password|VARCHAR(20)|否|密码|
> |psex|char(2)|否|性别|
> |id_num|VARCHAR(20)|是|身份证号|	
> |page|INT|是|年龄|
> |birth_place|VARCHAR(20)|是|出生地|
> |address|VARCHAR(30)|是|住址|
> |profession|VARCHAR(10)|是|职业|
> |hys|VARCHAR(50)|是|婚育史|
> |allergy|VARCHAR(45)|是|药物过敏史|
> |status|INT|否|账号激活状态|

2. 医生信息表

> |字段名|数据类型|能否为空|描述|
> |:---:|:---:|:---:|:---:|
> |did|INT|否|医生编号|
> |dname|VARCHAR(10)|否|姓名|
> |password|VARCHAR(20)|否|密码|
> |dsex|CHAR(2)|是|性别|
> |dept|VARCHAR(20)|是|科室|
> |hospital|VARCHAR(30)|是|所属医院|
> |title|VARCHAR(10)|是|职称|
> |status|INT|否|账号激活状态|

3. 病历信息表

> |字段名|数据类型|能否为空|描述|
> |:---:|:---:|:---:|:---:|
> |id|INT|否|病历编号|
> |pid|INT|否|患者编号|
> |did|INT|否|医生编号|
> |time|DATE|否|就诊时间|
> |feature|VARCHAR(200)|是|临床表现|
> |yx_report|VARCHAR(200)|是|影像检查报告|
> |jy_report|VARCHAR(200)|是|检验报告|
> |diagnosis|VARCHAR(200)|是|诊断结果|
> |measures|VARCHAR(200)|是|治疗措施|
> |advice|VARCHAR(200)|是|医嘱|

4. 体检报告表

> |字段名|数据类型|能否为空|描述|
> |:---:|:---:|:---:|:---:|
> |id|INT|否|编号|
> |pid|INT|否|患者编号|
> |check_time|DATE|是|体检日期|
> |height|VARCHAR(10)|是|身高|
> |weight|VARCHAR(10)|是|体重|
> |waistline|INT|是|腰围|
> |pulse|INT|是|脉搏|
> |sbp|VARCHAR(10)|是|收缩压|
> |dbp|VARCHAR(10)|是|舒张压|	
> |tc|VARCHAR(10)|是|总胆固醇|
> |triglyceride|VARCHAR(10)|是|甘油三酯|
> |ldl_c|VARCHAR(10)|是|低密度脂蛋白胆固醇|
> |hdl_c|VARCHAR(10)|是|高密度脂蛋白胆固醇|
> |fbg|VARCHAR(10)|是|空腹血糖|
> |pbg|VARCHAR(10)|是|餐后血糖|


5. 既往病史表

> |字段名|数据类型|能否为空|描述|
> |:---:|:---:|:---:|:---:|
> |pid|INT|否|患者编号|
> |hbp|VARCHAR(200)|是|高血压|
> |diab|VARCHAR(200)|是|糖尿病|
> |chd|VARCHAR(200)|是|冠心病|
> |ci|VARCHAR(200)|是|脑梗塞|
> |lc|VARCHAR(200)|是|肝硬化|
> |family_history|VARCHAR(200)|是|家族病史|

---

## 运行环境要求

1. MySQL 5.6 或以上版本
2. JRE 8.0 或以上版本


---
##### *by pnx & lwm, 2019.06*